{"ast":null,"code":"import _classCallCheck from \"/Users/ahmadhesham/Desktop/reactdev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ahmadhesham/Desktop/reactdev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ahmadhesham/Desktop/reactdev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ahmadhesham/Desktop/reactdev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ahmadhesham/Desktop/reactdev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/ahmadhesham/Desktop/reactdev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/ahmadhesham/Desktop/reactdev/src/components/pages/InvestorRequests.jsx\";\nimport React, { Component } from \"react\";\nimport LinearDeterminate from \"../layout/loading/LinearDeterminate\";\nimport Snackbar from \"../layout/snackbar/Snackbar\";\nimport TitleBarGridList from \"../layout/List/GridList\";\nimport Paper from \"../layout/paper/Paper\";\nimport Typography from '@material-ui/core/Typography';\nimport Grid from \"@material-ui/core/Grid\";\n\nvar investorRequests =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(investorRequests, _Component);\n\n  function investorRequests(props) {\n    var _this;\n\n    _classCallCheck(this, investorRequests);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(investorRequests).call(this, props));\n\n    _this.handleReq = function () {\n      if (_this.state.requests) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }, React.createElement(Paper, {\n          title: _this.state.requests.investorName,\n          elevation: 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }), React.createElement(Grid, {\n          style: {\n            backgroundColor: '#3f3f3f'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, React.createElement(TitleBarGridList, {\n          data: _this.state.requests,\n          token: _this.props.token,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        })));\n      } else {\n        return React.createElement(Snackbar, {\n          variant: \"error\",\n          message: \"Something went wrong!\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        });\n      }\n    };\n\n    _this.handleReq2 = function () {\n      if (_this.state.requests) {\n        if (_this.state.requests.length === 0) {\n          return React.createElement(Snackbar, {\n            variant: \"warning\",\n            message: \"There are no requests\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          });\n        }\n      } else {\n        return React.createElement(Snackbar, {\n          variant: \"error\",\n          message: \"Something went wrong!\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        });\n      }\n    };\n\n    _this.state = {\n      requests: [],\n      isLoading: false,\n      error: null\n    };\n    _this.handleRequests = _this.handleRequests.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleReq = _this.handleReq.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleReq2 = _this.handleReq2.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(investorRequests, [{\n    key: \"handleRequests\",\n    value: function handleRequests() {\n      var _this2 = this;\n\n      console.log(this.props.token);\n      this.setState({\n        isLoading: true\n      });\n      fetch('http://localhost:3000/api/investors/MyRequests/all', {\n        method: \"GET\",\n        headers: {\n          'Content-Type': 'application/json',\n          'x-access-token': this.props.token\n        }\n      }).then(function (response) {\n        response.json().then(function (data) {\n          _this2.setState({\n            requests: data.data,\n            isLoading: false\n          });\n        });\n      }).catch(function (error) {\n        return _this2.setState({\n          error: {\n            error: error\n          }.message,\n          isLoading: false\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleRequests();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state.requests);\n\n      if (this.state.isLoading) {\n        return React.createElement(LinearDeterminate, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        });\n      }\n\n      if (this.state.error) {\n        return React.createElement(Snackbar, {\n          variant: \"error\",\n          message: this.state.error,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.handleReq(), this.handleReq2());\n    }\n  }]);\n\n  return investorRequests;\n}(Component);\n\nexport default investorRequests;","map":{"version":3,"sources":["/Users/ahmadhesham/Desktop/reactdev/src/components/pages/InvestorRequests.jsx"],"names":["React","Component","LinearDeterminate","Snackbar","TitleBarGridList","Paper","Typography","Grid","investorRequests","props","handleReq","state","requests","investorName","backgroundColor","token","handleReq2","length","isLoading","error","handleRequests","bind","console","log","setState","fetch","method","headers","then","response","json","data","catch","message"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport LinearDeterminate from \"../layout/loading/LinearDeterminate\"\nimport Snackbar from \"../layout/snackbar/Snackbar\"\nimport TitleBarGridList from \"../layout/List/GridList\";\nimport Paper from \"../layout/paper/Paper\";\nimport Typography from '@material-ui/core/Typography';\nimport Grid from \"@material-ui/core/Grid\";\n\n\nclass investorRequests extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            requests: [],\n            isLoading: false,\n            error: null,\n        };\n\n        this.handleRequests = this.handleRequests.bind(this);\n        this.handleReq = this.handleReq.bind(this)\n        this.handleReq2 = this.handleReq2.bind(this)\n    }\n    handleReq = () => {\n        if(this.state.requests){\n        return (<div>\n            <Paper title={this.state.requests.investorName} elevation={1} />\n            <Grid style={{ backgroundColor: '#3f3f3f' }}>\n                <TitleBarGridList data={this.state.requests} token={this.props.token} />\n            </Grid>\n        </div>)}\n        else{\n            return <Snackbar variant='error' message=\"Something went wrong!\" />\n        }\n    }\n    handleReq2 = () => {\n        if(this.state.requests){\n        if (this.state.requests.length === 0) {\n            return <Snackbar variant='warning' message=\"There are no requests\" />\n        }}\n        else{\n            return <Snackbar variant='error' message=\"Something went wrong!\" />\n        }\n    }\n    handleRequests() {\n        console.log(this.props.token)\n        this.setState({ isLoading: true })\n\n        fetch('http://localhost:3000/api/investors/MyRequests/all', {\n            method: \"GET\",\n            headers: {\n                'Content-Type': 'application/json',\n                'x-access-token': this.props.token\n            },\n        }).then(response => {\n\n            response.json().then(data => {\n                this.setState({ requests: data.data, isLoading: false })\n\n            })\n        }).catch(error =>\n            this.setState({\n                error:{error}.message,\n                isLoading: false\n            }))\n    }\n    componentDidMount() {\n        this.handleRequests()\n    }\n    render() {\n        console.log(this.state.requests)\n      \n\n        if (this.state.isLoading) {\n            return <LinearDeterminate />\n        }\n        if (this.state.error) {\n            return <Snackbar variant='error' message={this.state.error} />\n        } return (\n            <div>\n                {this.handleReq()}\n           {this.handleReq2()}\n            </div>\n        );\n    }\n}\n\nexport default investorRequests;\n"]},"metadata":{},"sourceType":"module"}